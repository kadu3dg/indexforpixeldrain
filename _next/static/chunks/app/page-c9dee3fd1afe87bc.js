(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9943:function(t,e,a){Promise.resolve().then(a.bind(a,4413))},4413:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return x}});var r=a(3827),s=a(4090);class o{async fetchWithAuth(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(t,this.baseUrl),r=this.corsProxy+encodeURIComponent(a.toString()),s=new Headers(e.headers);s.set("Accept","application/json"),s.set("Content-Type","application/json"),s.set("Authorization","Basic ".concat(btoa(":".concat(this.apiKey))));let o={...e,headers:s,mode:"cors",credentials:"omit"};try{let t=await fetch(r,o);if(!t.ok){let e=await t.text();throw console.error("Erro na resposta:",{status:t.status,statusText:t.statusText,data:e}),Error("Erro na API do Pixeldrain: ".concat(t.status," ").concat(t.statusText,"\n").concat(e))}return t.json()}catch(t){throw console.error("Erro na requisi\xe7\xe3o:",t),t}}async getFiles(){try{return(await this.fetchWithAuth("/user/files")).files||[]}catch(t){return console.error("Erro ao buscar arquivos:",t),[]}}async getUserLists(){try{return(await this.fetchWithAuth("/user/lists")).lists||[]}catch(t){return console.error("Erro ao buscar \xe1lbuns:",t),[]}}async createAlbum(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.fetchWithAuth("/list",{method:"POST",body:JSON.stringify({title:t,description:e,files:[]})})}async addFileToAlbum(t,e){await this.fetchWithAuth("/list/".concat(t,"/file/").concat(e),{method:"POST"})}async removeFileFromAlbum(t,e){await this.fetchWithAuth("/list/".concat(t,"/file/").concat(e),{method:"DELETE"})}async deleteAlbum(t){await this.fetchWithAuth("/list/".concat(t),{method:"DELETE"})}constructor(t="aa73d120-100e-426e-93ba-c7e1569b0322"){this.apiKey=t,this.baseUrl="https://pixeldrain.com/api",this.corsProxy="https://api.allorigins.win/raw?url="}}var i=a(5195),n=a(543),c=a(9240),l=a(4981),h=a(6910),d=a(9835),f=a(5996);let u=(0,a(5035).ZP)(i.Z)(t=>{let{theme:e}=t;return{margin:e.spacing(1),width:"100%",maxWidth:600,backgroundColor:"#1a1a1a",color:"#ffffff","& .MuiTypography-root":{color:"#ffffff"},"& .MuiTypography-colorTextSecondary":{color:"#aaaaaa"}}});function x(){let[t,e]=(0,s.useState)("aa73d120-100e-426e-93ba-c7e1569b0322"),[a,i]=(0,s.useState)([]),[x,m]=(0,s.useState)([]),[y,p]=(0,s.useState)(!1),[b,w]=(0,s.useState)(null),g=new o(t),v=async()=>{if(!t){w("Por favor, insira sua chave API do Pixeldrain");return}p(!0),w(null);try{let t=await g.getFiles();i(t);let e=await g.getUserLists();m(e)}catch(t){console.error("Erro ao carregar conte\xfado:",t),w(t instanceof Error?t.message:"Erro ao carregar conte\xfado")}finally{p(!1)}};return(0,s.useEffect)(()=>{t&&v()},[t]),(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-4",style:{backgroundColor:"#121212",color:"#ffffff"},children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-8 text-white",children:"\xcdndice Pixeldrain"}),(0,r.jsx)(n.Z,{sx:{width:"100%",maxWidth:600,mb:4},children:(0,r.jsx)(c.Z,{fullWidth:!0,placeholder:"Insira sua chave API do Pixeldrain",value:t,onChange:t=>e(t.target.value),type:"password",sx:{color:"#ffffff","& .MuiInput-input":{color:"#ffffff"}}})}),b&&(0,r.jsx)(l.Z,{severity:"error",sx:{width:"100%",maxWidth:600,mb:2,backgroundColor:"#ff000033",color:"#ffffff"},children:b}),y?(0,r.jsx)(h.Z,{sx:{color:"#ffffff"}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:"w-full max-w-3xl",children:[(0,r.jsxs)(d.Z,{variant:"h5",gutterBottom:!0,sx:{color:"#ffffff"},children:["\xc1lbuns (",x.length,")"]}),x.map(t=>(0,r.jsx)(u,{children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(d.Z,{variant:"h6",children:t.title}),(0,r.jsx)(d.Z,{variant:"body2",color:"text.secondary",children:t.description}),t.date_created&&(0,r.jsxs)(d.Z,{variant:"caption",display:"block",children:["Criado em: ",new Date(t.date_created).toLocaleDateString()]}),(0,r.jsxs)(d.Z,{variant:"body2",children:["Arquivos: ",t.files.length]})]})},t.id))]}),(0,r.jsxs)("section",{className:"w-full max-w-3xl mt-8",children:[(0,r.jsxs)(d.Z,{variant:"h5",gutterBottom:!0,sx:{color:"#ffffff"},children:["Arquivos (",a.length,")"]}),a.map(t=>(0,r.jsx)(u,{children:(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(d.Z,{variant:"h6",children:t.name}),(0,r.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Tamanho: ",(t.size/1024/1024).toFixed(2)," MB"]}),(0,r.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Views: ",t.views]}),(0,r.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Downloads: ",t.downloads]}),t.date_upload&&(0,r.jsxs)(d.Z,{variant:"caption",display:"block",children:["Enviado em: ",new Date(t.date_upload).toLocaleDateString()]})]})},t.id))]})]})]})}}},function(t){t.O(0,[980,971,69,744],function(){return t(t.s=9943)}),_N_E=t.O()}]);