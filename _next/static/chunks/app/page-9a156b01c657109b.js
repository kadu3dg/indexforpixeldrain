(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9943:function(t,e,a){Promise.resolve().then(a.bind(a,4413))},4413:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return x}});var i=a(3827),s=a(4090);class r{async fetchWithAuth(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(this.baseUrl,window.location.origin);a.searchParams.set("endpoint",t),this.apiKey&&a.searchParams.set("apiKey",this.apiKey);let i=await fetch(a.toString(),{...e,headers:{Accept:"application/json","Content-Type":"application/json",...e.headers}});if(!i.ok){let t=await i.text();throw Error("Erro na API do Pixeldrain: ".concat(i.status," ").concat(i.statusText,"\n").concat(t))}return i.json()}async getFiles(){return(await this.fetchWithAuth("/user/files")).files||[]}async getUserLists(){return(await this.fetchWithAuth("/user/lists")).lists||[]}async createAlbum(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return await this.fetchWithAuth("/list",{method:"POST",body:JSON.stringify({title:t,description:e,files:[]})})}async addFileToAlbum(t,e){await this.fetchWithAuth("/list/".concat(t,"/file/").concat(e),{method:"POST"})}async removeFileFromAlbum(t,e){await this.fetchWithAuth("/list/".concat(t,"/file/").concat(e),{method:"DELETE"})}async deleteAlbum(t){await this.fetchWithAuth("/list/".concat(t),{method:"DELETE"})}constructor(t=""){this.apiKey=t,this.baseUrl="/api/pixeldrain"}}var n=a(5195),o=a(543),l=a(9240),c=a(4981),h=a(6910),d=a(9835),f=a(5996);let u=(0,a(5035).ZP)(n.Z)(t=>{let{theme:e}=t;return{margin:e.spacing(1),width:"100%",maxWidth:600,backgroundColor:"#1a1a1a",color:"#ffffff","& .MuiTypography-root":{color:"#ffffff"},"& .MuiTypography-colorTextSecondary":{color:"#aaaaaa"}}});function x(){let[t,e]=(0,s.useState)("aa73d120-100e-426e-93ba-c7e1569b0322"),[a,n]=(0,s.useState)([]),[x,m]=(0,s.useState)([]),[p,y]=(0,s.useState)(!1),[w,g]=(0,s.useState)(null),b=new r(t),j=async()=>{if(!t){g("Por favor, insira sua chave API do Pixeldrain");return}y(!0),g(null);try{let t=await b.getFiles();n(t);let e=await b.getUserLists();m(e)}catch(t){console.error("Erro ao carregar conte\xfado:",t),g(t instanceof Error?t.message:"Erro ao carregar conte\xfado")}finally{y(!1)}};return(0,s.useEffect)(()=>{t&&j()},[t]),(0,i.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-4",style:{backgroundColor:"#121212",color:"#ffffff"},children:[(0,i.jsx)("h1",{className:"text-4xl font-bold mb-8 text-white",children:"\xcdndice Pixeldrain"}),(0,i.jsx)(o.Z,{sx:{width:"100%",maxWidth:600,mb:4},children:(0,i.jsx)(l.Z,{fullWidth:!0,placeholder:"Insira sua chave API do Pixeldrain",value:t,onChange:t=>e(t.target.value),type:"password",sx:{color:"#ffffff","& .MuiInput-input":{color:"#ffffff"}}})}),w&&(0,i.jsx)(c.Z,{severity:"error",sx:{width:"100%",maxWidth:600,mb:2,backgroundColor:"#ff000033",color:"#ffffff"},children:w}),p?(0,i.jsx)(h.Z,{sx:{color:"#ffffff"}}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("section",{className:"w-full max-w-3xl",children:[(0,i.jsxs)(d.Z,{variant:"h5",gutterBottom:!0,sx:{color:"#ffffff"},children:["\xc1lbuns (",x.length,")"]}),x.map(t=>(0,i.jsx)(u,{children:(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.Z,{variant:"h6",children:t.title}),(0,i.jsx)(d.Z,{variant:"body2",color:"text.secondary",children:t.description}),t.date_created&&(0,i.jsxs)(d.Z,{variant:"caption",display:"block",children:["Criado em: ",new Date(t.date_created).toLocaleDateString()]}),(0,i.jsxs)(d.Z,{variant:"body2",children:["Arquivos: ",t.files.length]})]})},t.id))]}),(0,i.jsxs)("section",{className:"w-full max-w-3xl mt-8",children:[(0,i.jsxs)(d.Z,{variant:"h5",gutterBottom:!0,sx:{color:"#ffffff"},children:["Arquivos (",a.length,")"]}),a.map(t=>(0,i.jsx)(u,{children:(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.Z,{variant:"h6",children:t.name}),(0,i.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Tamanho: ",(t.size/1024/1024).toFixed(2)," MB"]}),(0,i.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Views: ",t.views]}),(0,i.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["Downloads: ",t.downloads]}),t.date_upload&&(0,i.jsxs)(d.Z,{variant:"caption",display:"block",children:["Enviado em: ",new Date(t.date_upload).toLocaleDateString()]})]})},t.id))]})]})]})}}},function(t){t.O(0,[980,971,69,744],function(){return t(t.s=9943)}),_N_E=t.O()}]);